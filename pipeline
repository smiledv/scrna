#STEP 1: quality control

#write a docker file (Dockerfile) to install fastqc and cell ranger.

#build the image using docker

DOCKERHUB_USERNAME=miladvahedi
IMAGE_VERSION=amd64
IMAGE_NAME=scrnaseq
PLAT=linux/amd64

# build docker image

docker build --platform=${PLAT} -t $(DOCKERHUB_USERNAME)/$(IMAGE_NAME):$(IMAGE_VERSION) .

# run interactive docker image to test your image

docker run -it -v /Users/josietuong/scrnaseq:/home $(DOCKERHUB_USERNAME)/$(IMAGE_NAME):$(IMAGE_VERSION)

# push docker image to dockerhub

docker push $(DOCKERHUB_USERNAME)/$(IMAGE_NAME):$(IMAGE_VERSION)

# go to scokeye and push the docker image and convert that to sif file

module load apptainer; \
apptainer pull --name scrnase

